```{r, echo=FALSE}
HIDDEN_SOLS=FALSE
```



# Sampling distributions


<div class = "lo">
#### Learning outcomes {-}

**LO1.** Understand the difference between a population parameter and a sample statistic.

**LO2.** Understand that a sampling distribution shows how sample statistics vary from sample to sample.

**LO3.** Understand the effect of sample size on the sampling distribution, and how to quantify the variability of a statistic. 

#### Reading {-}
This week's reading is [Chapter 7](https://moderndive.com/7-sampling.html).
</div>


## Recap


```{r data-analysis-pipeline, echo=FALSE, fig.align='center', out.width='75%', fig.cap='The data analysis pipeline'}
knitr::include_graphics('https://d33wubrfki0l68.cloudfront.net/86cc45e87bb755a3bcecce462a6524e68d13a466/67469/images/r4ds/data_science_pipeline.png')
```

In Semester 1 (Weeks 1-10), we started walking through the required steps of a statistical investigation, conveniently summarized in Figure \@ref(fig:data-analysis-pipeline).

Suppose that you are interested in a research question that can be answered by collecting data on some statistical units. 
Once collected, you (a) import/load the data into R; 
(b) tidy them so that each column corresponds to a single variable of interest; 
(c) transform variables if needed; 
(d) visualise your data and inspect for unusual values; 
(e) fit statistical models to the data; and 
(f) communicate your results and conclusions to the wider community.

*Note.* The inner cycle (c-d-e) might need to be re-iterated a few times.


In the first semester we saw

(a) how to import data into R;
(b) how to tidy datasets (for example by making sure some variables are factors);
(c) how to transform variables (e.g. standardization via `scale()`, log-transforming data, ...).
(d) how to visualise the data using the `ggplot2` package.

In this semester we will focus on 

(e) modelling, and 
(f) communicating our findings to the wider community.



## Population and samples {#population-sample}

Typically, it is either infeasible in terms of time or cost to perform an exhaustive data collection on the entire population of interest (also known as **census**).
To save time and money, we typically record the variables of interest on a smaller subset of the entire population, also known as a **sample**.
In order to make sure that any conclusions we draw from the sample are **generalizable** to the wider population, this sample needs to be taken at **random**.
This avoids **representation bias**, where some units are less represented than others, leading to wrong conclusions for the entire population.

`r msmbstyle::question_begin()`
Suppose you are interested in the average salary of people working in Sweden. Unfortunately, you neither have the time nor the money to go to Sweden and ask each single person his/her own salary.
Hence, you decide to ask some people at random.

What are the problems of the following sample selection criteria?

1. Asking 500 random people from Facebook that live in Sweden.
2. Asking 1000 random people from the web that live in Sweden.
3. Calling 200 phone numbers from the telephone directory.
4. Asking 500 people working near the central bank of Sweden.
`r msmbstyle::question_end()`

`r msmbstyle::solution_begin(hidden=FALSE)`
All four criteria lead to samples that are not representative of the entire population. This is because some people will have higher chance of being included in the sample than others, leading to representation bias. Because of this, the statistic computed from the sample (sample mean) is not generalizable from the whole population.

1. People that do not have Facebook are not considered in the sample.
2. People that do not use internet are not represented.
3. People without a landline phone are not included.
4. The people working around this area will very likely have higher salaries than the rest of the country. This sample does not represent people working in farming or other sectors.
`r msmbstyle::solution_end()`


In Semester 1, we discussed data collection, i.e. methods to obtain sample data from a bigger population of interest.
We now take the opposite direction as we try to use the information from the sample data to draw conclusions about the entire population.
Furthermore, we will spend some time assessing how accurate are our conclusions about the entire population.


<div class = "def">
#### Statistical inference {-}

**Statistical inference** is the process of drawing conclusions about the entire population based on the information available in a sample.
</div>

```{r, echo=FALSE, fig.align='center', out.width = "75%", fig.cap = "Data collection vs statistical inference"}
knitr::include_graphics("./images/statistical_inference.png")
```



## Population parameter and sample statistic

To make it easier to understand whether we are referring to the entire population or a sample, we use the term *parameter* when referring to a numerical summary of the entire population, and the term *statistic* for a numerical summary of the sample.

<div class = "def">
#### Parameter vs statistic {-}

- A **parameter** is a number describing some aspect of the population.
- A **statistic** is a number that is computed from the data in the sample.
</div>

For example, suppose we want to gain more insight into the salaries of Acme Corporation.^[You might remember it from the cartoon Wile E. Coyote and the Road Runner.] We are interested in multiple aspects of the population, in particular: what is the average salary and how variable are the values around the mean salary?

After selecting at random, say, 500 employees from the entire company, we record for each employee the corresponding salary.
The population parameters are the mean salary and the standard deviation for the entire employees of Acme Corporation and are not known to us as we did not perform an exhaustive census.
The statistics are the mean salary and standard deviation computed from the salaries of the 500 people in the sample.


From this example, you can see that the population parameter and the sample statistic generally have the same name.
However, these are often written with different symbols to convey with just one letter

1. what *attribute* they represent
2. if it is a *population* quantity or a quantity *computed on a sample*

The following table summarizes standard notation for some population parameters, typically unknown, and the corresponding "best guesses" computed on a sample.

|                   | Population parameter   | Sample statistic         |
|:------------------|:----------------------:|:------------------------:|
|Mean               | $\mu$                  | $\bar{x}$ or $\hat{\mu}$ |
|Standard deviation | $\sigma$               | $s$ or $\hat{\sigma}$    |
|Proportion         | $p$                    | $\hat{p}$                |

The greek letter $\mu$ (mu) is used as a parameter to denote the population mean/average, while $\bar{x}$ or $\hat{\mu}$ (mu-hat) as a statistic for the mean computed on a sample.
The greek letter $\sigma$ (sigma) is used as a parameter to denote the population standard deviation, while $s$ or $\hat{\sigma}$ (sigma-hat) as a statistic for the standard deviation of the collected sample.
The greek letter $\mu$ (mu) is used as a parameter to denote the population mean/average, while $\bar{x}$ or $\hat{\mu}$ (mu-hat) as a statistic for the mean computed on a sample.
The letter $p$ is used as a parameter to denote the population proportion, while $\hat{p}$ (p-hat) as a statistic for the sample proportion.



`r msmbstyle::question_begin()`
**Proportion of UK people aged between 25 and 34 with a Bachelor's degree or higher**.

The last UK Census, done in 2011, reports that 40% of people aged 25 to 34 years had a degree-level or above qualification.
Suppose that in a random sample of $n = 200$ UK residents who are between 25 and 34 years old, 58 of them have a Bachelor's degree or higher. 
Using the appropriate notation, state what is the population parameter and what is the sample statistic.
`r msmbstyle::question_end()`

`r msmbstyle::solution_begin(hidden=HIDDEN_SOLS)`
The population parameter is the proportion of *all* UK people aged between 25 to 34 years old with a Bachelor's degree or higher: $p = 0.4$.
The sample statistic is the proportion with a Bachelor's degree or higher *for those in the sample*: $\hat{p} = 58/200 = 0.29$.
`r msmbstyle::solution_end()`


## Sample statistics as estimates of population parameters




## task  

<div class="noteBox">
..   
.   
do this by hand, or in groups, or whatever.  
.  
..  
</div>  

## questions  

`r msmbstyle::question_begin()`
make a new .Rmd file.  
`r msmbstyle::question_end()`

`r msmbstyle::question_begin()`
read in the data using `load(url("...."))`
`r msmbstyle::question_end()`

`r msmbstyle::solution_begin(hidden=HIDDEN_SOLS)`
the answer is to make a code chunk and use this:  
```{r echo=TRUE,eval=FALSE}
load(url("https:/....."))
```

`r msmbstyle::solution_end()`


## Summary

We revised [LO1](#w11-lo1) in Section \@ref(population-sample)
