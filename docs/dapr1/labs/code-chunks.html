<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Code chunks | Data Analysis for Psychology Using R</title>
  <meta name="description" content="This is the main page of the course and contains a course overview, schedule and learning outcomes." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Code chunks | Data Analysis for Psychology Using R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the main page of the course and contains a course overview, schedule and learning outcomes." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Code chunks | Data Analysis for Psychology Using R" />
  
  <meta name="twitter:description" content="This is the main page of the course and contains a course overview, schedule and learning outcomes." />
  

<meta name="author" content="Department of Psychology, University of Edinburgh" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmd-read-along.html">
<link rel="next" href="generating-documents.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PPLS Summer Training (R and Stats)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview of the Course</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#programme"><i class="fa fa-check"></i>Programme</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i>Learning Outcomes</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preparation"><i class="fa fa-check"></i>Preparation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#expectations"><i class="fa fa-check"></i>Expectations</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-team"><i class="fa fa-check"></i>The team</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#list-of-extra-resources"><i class="fa fa-check"></i>List of extra resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authorship"><i class="fa fa-check"></i>Authorship</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#last-but-not-least"><i class="fa fa-check"></i>Last, but not least</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="extra-resources.html"><a href="extra-resources.html"><i class="fa fa-check"></i>Extra Resources</a><ul>
<li class="chapter" data-level="" data-path="extra-resources.html"><a href="extra-resources.html#r-practice"><i class="fa fa-check"></i>R practice</a></li>
<li class="chapter" data-level="" data-path="extra-resources.html"><a href="extra-resources.html#data-cleaning"><i class="fa fa-check"></i>Data Cleaning</a></li>
<li class="chapter" data-level="" data-path="extra-resources.html"><a href="extra-resources.html#visualisations"><i class="fa fa-check"></i>Visualisations</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="week-1.html"><a href="week-1.html"><i class="fa fa-check"></i><b>1</b> Week 1</a><ul>
<li class="chapter" data-level="1.1" data-path="week-1.html"><a href="week-1.html#introduction-to-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Introduction to R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="week-1.html"><a href="week-1.html#install-the-recent-version-of-r-and-r-studio"><i class="fa fa-check"></i><b>1.2</b> Install the recent version of R and R Studio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="week-1.html"><a href="week-1.html#first-step"><i class="fa fa-check"></i><b>1.2.1</b> First Step</a></li>
<li class="chapter" data-level="1.2.2" data-path="week-1.html"><a href="week-1.html#second-step"><i class="fa fa-check"></i><b>1.2.2</b> Second Step</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="week-1.html"><a href="week-1.html#getting-started-in-rstudio"><i class="fa fa-check"></i><b>1.3</b> Getting Started in RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="week-1.html"><a href="week-1.html#r-as-an-interactive-envrionment"><i class="fa fa-check"></i><b>1.4</b> R as an interactive envrionment</a></li>
<li class="chapter" data-level="1.5" data-path="week-1.html"><a href="week-1.html#setting-up-your-working-directory"><i class="fa fa-check"></i><b>1.5</b> Setting Up Your Working Directory</a></li>
<li class="chapter" data-level="1.6" data-path="week-1.html"><a href="week-1.html#the-console"><i class="fa fa-check"></i><b>1.6</b> The Console</a></li>
<li class="chapter" data-level="1.7" data-path="week-1.html"><a href="week-1.html#spacing"><i class="fa fa-check"></i><b>1.7</b> Spacing</a></li>
<li class="chapter" data-level="1.8" data-path="week-1.html"><a href="week-1.html#typos"><i class="fa fa-check"></i><b>1.8</b> Typos</a></li>
<li class="chapter" data-level="1.9" data-path="week-1.html"><a href="week-1.html#unfinishe.-d"><i class="fa fa-check"></i><b>1.9</b> Unfinishe…. d</a></li>
<li class="chapter" data-level="1.10" data-path="week-1.html"><a href="week-1.html#basic-arithmetic"><i class="fa fa-check"></i><b>1.10</b> Basic Arithmetic</a></li>
<li class="chapter" data-level="1.11" data-path="week-1.html"><a href="week-1.html#using-functions-for-calculations"><i class="fa fa-check"></i><b>1.11</b> Using Functions for Calculations</a></li>
<li class="chapter" data-level="1.12" data-path="week-1.html"><a href="week-1.html#r-scripts"><i class="fa fa-check"></i><b>1.12</b> R Scripts</a></li>
<li class="chapter" data-level="1.13" data-path="week-1.html"><a href="week-1.html#short-example"><i class="fa fa-check"></i><b>1.13</b> Short Example</a></li>
<li class="chapter" data-level="1.14" data-path="week-1.html"><a href="week-1.html#naming-variables"><i class="fa fa-check"></i><b>1.14</b> Naming variables</a></li>
<li class="chapter" data-level="1.15" data-path="week-1.html"><a href="week-1.html#now-over-to-you"><i class="fa fa-check"></i><b>1.15</b> Now over to you</a><ul>
<li class="chapter" data-level="1.15.1" data-path="week-1.html"><a href="week-1.html#exercise-1"><i class="fa fa-check"></i><b>1.15.1</b> Exercise 1</a></li>
<li class="chapter" data-level="1.15.2" data-path="week-1.html"><a href="week-1.html#exercise-2"><i class="fa fa-check"></i><b>1.15.2</b> Exercise 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2.html"><a href="week-2.html"><i class="fa fa-check"></i>Week 2</a></li>
<li class="chapter" data-level="2" data-path="getting-things-ready.html"><a href="getting-things-ready.html"><i class="fa fa-check"></i><b>2</b> Getting things ready</a></li>
<li class="chapter" data-level="3" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html"><i class="fa fa-check"></i><b>3</b> R Markdown basics</a></li>
<li class="chapter" data-level="4" data-path="this-is-level-1-heading-main-heading.html"><a href="this-is-level-1-heading-main-heading.html"><i class="fa fa-check"></i><b>4</b> This is level 1 heading (main heading)</a><ul>
<li class="chapter" data-level="4.1" data-path="this-is-level-1-heading-main-heading.html"><a href="this-is-level-1-heading-main-heading.html#this-is-level-2-heading-subheading"><i class="fa fa-check"></i><b>4.1</b> This is level 2 heading (subheading)</a><ul>
<li class="chapter" data-level="4.1.1" data-path="this-is-level-1-heading-main-heading.html"><a href="this-is-level-1-heading-main-heading.html#this-is-level-3-heading"><i class="fa fa-check"></i><b>4.1.1</b> This is level 3 heading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rmd-read-along.html"><a href="rmd-read-along.html"><i class="fa fa-check"></i><b>5</b> Rmd read-along</a><ul>
<li class="chapter" data-level="5.1" data-path="rmd-read-along.html"><a href="rmd-read-along.html#a-short-aside-on-urls-in-r-markdown"><i class="fa fa-check"></i><b>5.1</b> A short aside on URLs in R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="code-chunks.html"><a href="code-chunks.html"><i class="fa fa-check"></i><b>6</b> Code chunks</a></li>
<li class="chapter" data-level="7" data-path="generating-documents.html"><a href="generating-documents.html"><i class="fa fa-check"></i><b>7</b> Generating documents</a></li>
<li class="chapter" data-level="" data-path="week-3.html"><a href="week-3.html"><i class="fa fa-check"></i>Week 3</a></li>
<li class="chapter" data-level="" data-path="week-4.html"><a href="week-4.html"><i class="fa fa-check"></i>Week 4</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis for Psychology Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="code-chunks" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Code chunks</h1>
<p>Let’s talk a little more about code chunks (and in-line code), since they are the main reason why Rmd is so useful when it comes to reports of statistical analysis.
For one, they are great for creating tables and figures.
As a basic demonstration, we can create a simple <em>histogram</em>.
Again, at this point, you don’t have to worry about understainding the code itselt.
The important bit is that, once you know how to create fancy plots and tables, you can create them directly in your .Rmd file to put them in your paper/report/presentation:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2) <span class="co"># load the ggplot2 package</span>
<span class="kw">qplot</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">xlab =</span> <span class="st">&quot;Value&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Frequency&quot;</span>) <span class="co"># basic quick histogram</span></code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdown-demo_files/figure-html/histogram-1.png" width="672" /></p>
<p>That’s pretty cool, isn’t it? What’s arguable even cooler is the fact, that you can incorporate code in the actual body text. Let’s say we have a chunk of code that runs some analysis, for example takes the mean age of our sample.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a made up sequence of numbers and pretend they are the ages of our participants</span>
age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">34</span>, <span class="dv">22</span>, <span class="dv">26</span>, <span class="dv">25</span>, <span class="dv">43</span>,<span class="dv">19</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">33</span>, <span class="dv">27</span>, <span class="dv">27</span>, <span class="dv">26</span>, <span class="dv">54</span>)
<span class="co"># calculate their mean, rounded to 2 decimal places</span>
mean_age &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">mean</span>(age), <span class="dt">digits =</span> <span class="dv">2</span>)</code></pre>
<p>With Rmd, we don’t really even have to know what the value of the mean is when writing the results. We can simply use in-line code to have R Studio generate a document that say that the mean age was 28.85.</p>
<p>For the time being, don’t worry about how this is actually done. We will cover that later in depth. For now, simply rejoice in the fact that it <em>can</em> be done ;).</p>
<p>This feature has a very useful consequence:
You can write a document in such a way that, if something about your data or analysis changes, you can simply edit the code in the appropriate chunks, re-generate the output file and all the values will get updated.
Imagine having to redo a table of 40, 50, 100 numbers – that’s an awfully teatious task and it’s prone to human error.
With a proper use of R Markdown you will never have to do it! Imagine how many hours of work that will save you (trust us, it’s a lot). How amazing is that?</p>
<p> </p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rmd-read-along.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="generating-documents.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/Week_2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
